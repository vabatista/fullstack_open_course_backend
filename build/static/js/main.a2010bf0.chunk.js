(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),l=t.n(r),c=(t(19),t(2)),u=function(e){var n=e.persons,t=e.sfilter,a=e.removePerson;return o.a.createElement("div",null,n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return o.a.createElement("div",{key:e.id},e.name," ",e.number," ",o.a.createElement("button",{onClick:function(n){n.preventDefault(),a(e.id)}},"Delete"))})))},i=function(e){var n=e.addPerson,t=e.newName,a=e.newPhone,r=e.handleNameChange,l=e.handlePhoneChange;return o.a.createElement("form",{onSubmit:n},o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:t,onChange:r})),o.a.createElement("div",null,"Phone: ",o.a.createElement("input",{value:a,onChange:l})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},s=function(e){var n=e.sfilter,t=e.handleSfilterChange;return o.a.createElement("div",null,"Filter shown with: ",o.a.createElement("input",{value:n,onChange:t}))},d=t(3),m=t.n(d),h="/api/persons",f=function(){return m.a.get(h).then((function(e){return e.data}))},v=function(e){return m.a.post(h,e).then((function(e){return e.data}))},E=function(e,n){return m.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return m.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},p=function(e){var n=e.message,t=e.isError;return console.log(n),console.log(t),null===n?null:t?o.a.createElement("div",{className:"error"},n):o.a.createElement("div",{className:"notification"},n)},b=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],l=Object(a.useState)(""),d=Object(c.a)(l,2),m=d[0],h=d[1],b=Object(a.useState)(""),w=Object(c.a)(b,2),P=w[0],C=w[1],j=Object(a.useState)(""),O=Object(c.a)(j,2),S=O[0],k=O[1],N=Object(a.useState)(null),y=Object(c.a)(N,2),D=y[0],B=y[1],J=Object(a.useState)(!1),L=Object(c.a)(J,2),T=L[0],U=L[1];Object(a.useEffect)((function(){console.log("Entered useEffect event"),f().then((function(e){r(e)}))}),[]);return o.a.createElement("div",null,o.a.createElement(p,{message:D,isError:T}),o.a.createElement("h2",null,"Phonebook"),o.a.createElement(s,{sfilter:S,handleSfilterChange:function(e){console.log("Entered handleSfilterChange mehtod"),k(e.target.value)}}),o.a.createElement("h2",null,"add a new"),o.a.createElement(i,{addPerson:function(e){console.log("Entered addPerson mehtod"),e.preventDefault();var n={name:m,number:P},a=t.filter((function(e){return e.name===m}));if(a.length>0){var o=a[0].id;window.confirm("".concat(m," already is in phonebook. Update phone number?"))?E(o,n).then((function(e){r(t.map((function(n){return n.id!==o?n:e}))),h(""),C(""),U(!1),B("Person updated sucessful into server")})):console.log("Update canceled!")}else""===m|""===P?alert("Either Name and Phone should be filled."):v(n).then((function(e){r(t.concat(e)),h(""),C(""),U(!1),B("Person added sucessful into server"),setTimeout((function(){B(null),U(!1)}),5e3)}))},newName:m,newPhone:P,handleNameChange:function(e){console.log("Entered handleNameChange mehtod"),e.preventDefault(),h(e.target.value)},handlePhoneChange:function(e){console.log("Entered handlePhoneChange mehtod"),e.preventDefault(),C(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(u,{persons:t,sfilter:S,removePerson:function(e){console.log("Entered removePerson mehtod"),window.confirm("Do you really want to remove this entry?")?(g(e).then((function(e){h(""),C("")})).catch((function(e){U(!0),B("Person was already removed from server"),setTimeout((function(){B(null),U(!1)}),5e3)})),r(t.filter((function(n){return n.id!==e})))):console.log("Cancel remove person")}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.a2010bf0.chunk.js.map